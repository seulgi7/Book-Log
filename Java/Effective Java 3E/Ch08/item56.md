쓸모 있는 API에는 잘 작성된 문서도 필요하다.
자바에서는 자바독(Javadoc)이라는 유틸리티를 지원하고 있는데, 소스코드 파일에서 문서화 주석이라는 특수한 형태로 기술된 설명을 추려 API 문서로 변환해준다.

## Javadoc API
-  API 문서에 대한 코멘트의 효율성을 높여주는 툴이다.
<img width="545" alt="image" src="https://img1.daumcdn.net/thumb/R1280x0/?scode=mtistory2&fname=https%3A%2F%2Ft1.daumcdn.net%2Fcfile%2Ftistory%2F2615E533577C5B0C01">



## 문서화 주석을 다는 방법

1) 공개된 모든 클래스, 인터페이스, 메서드, 필드 선언에 문서화 주석을 달아야 한다. 단, 기본 생성자에는 주석을 달 방법이 없으니 공개 클래스는 절대 기본 생성자를 사용하면 안된다.

2) 메소드용 문서화 주석에서는 해당 메서드와 클라이언트 사이의 규약을 명료하게 기술해야 한다.
   - 메서드의 동작 과정이 아닌 아닌 무엇을 하는지 기술
   - 클라이언트가 해당 메서드를 호출하기 위한 전제조건 나열
   - 메서드가 수행된 후에 만족해야 하는 사후조건 나열
   - 사후조건으로 명확하게 나타나지 않지만 시스템 상태에 어떠한 변화를 가져오는 부작용 기술(ex) 백그라운드 슬드)

## 메서드 주석
메서드의 계약을 완벽히 기술하려면, 다음의 규칙을 따라 작성하면 된다.

1. 모든 매개변수에 @param 태그
2. 반환 타입이 void가 아니라면 @return 태그
3. 발생할 가능성이 있는 모든 예외(검사/비검사)에 @throws 태그

```java
/**
* 이 리스트에서 지정한 위치의 원소를 반환한다.
*
* <p>이 메서드는 상수시간에 수행됨을 보장하지 <i>않는다.</i> 
* 구현에 따라 원소의 위치에 비례해 시간이 걸릴 수도 있다.
*
* @param index 반환할 원소의 인덱스
* @return 이 리스트에서 지정한 위치의 원소
* @throws IndexOutOfBoundsException index가 범위를 벗어나면,
*         즉, ({@code index < 0 || index >= size()}) 이면 발생한다.
*/
E get(int index);

```
   
- @code
  - 태그로 감싼 내용을 코드용 폰트로 렌더링하며, 감싼 내용에 포함된 HTML 요소나 다른 자바독 태그를 무시하는 역할을 한다.
  - 여러줄로 된 코드 예시를 넣으려면 <pre>{@code ...}</pre> 형태로 쓰면 된다.


## 상속용 클래스 문서화 주석

클래스를 상속용으로 설계할 때는, @implSpec 을 사용해 자기사용 패턴을 문서로 남겨 메서드를 올바르게 재정의하는 방법을 알려줘야 한다.(아이템 15)

> @impleSpec
- 해당 메서드와 하위 클래스 사이의 계약을 설명
- 하위 클래스들이 그 메서드를 상속하거나 super 키워드를 이용해 호출할 때 그 메서드가 어떻게 동작하는지 명확히 인지하고 사용할 수 있도록 도와주는 역할
```java
  /**
     * 이 컬렉션이 비었다면 true를 반환한다. // 요약 설명
     *
     * @implSpec 이 구현은 {@code this.size() == 0}의 결과를 반환한다.
     *
     * @return 이 컬렉션이 비었다면 true, 그렇지 않으면 false
     */
    public boolean isEmpty() {
        return false;
    }
```

## 요약 설명

- 각 문서화 주석의 첫 번째 문장은 해당 요소의 요약 설명(Summary description)으로 간주된다.
- Returns the element at the specified position in this list. 와 같은 문장이 이에 속한다.
- 첫 번째 . 기호가 나타나기 전까지의 문장을 첫 번째 문장으로 간주한다.
  - 예를들어 “머스터드 대령이나 Mrs. 피콕 같은 용의자.”라고 하면 첫 번째 마침표가 나오는 “머스터드 대령이나 Mrs.” 까지만 요약 설명이 된다.
- 위와 같은 예제를 해결하기 위해선 @literal을 사용한다.
  - ex) 머스터드 대령이나 {@literal Mrs.} 피콕 같은 용의자.
  - Java 10부터는 {@summary}라는 요약 설명 전용 태그가 추가되어 한번에 사용 가능하다.
    -{@summary 머스터드 대령이나 Mrs. 피콕 같은 용의자.}


## 색인(Index) 기능
- 자바 9부터는 JavaDoc이 생성한 HTML 문서에 대해 검색(색인) 기능이 추가되어 광대한 API 문서를 누비는 일이 수월해짐
- @index 태그를 사용해 API에서 중요한 용어를 추가로 색인화 할 수 있다.
  ```java
  This method compiles with the {@index IEEE 754} standard.
  ```
## 제네릭 타입이나 제네릭 메서드의 주석
- 제네릭 타입이나 제네릭 메서드를 문서화 할 때는 모든 타입 매개변수에 주석을 달아야 한다.
  ```java
   /* 
   * 키와 값을 매핑하는 객체, 맵은 키를 중복해서 가질 수 없다.
   * 즉, 키 하나가 가리킬 수 있는 값은 최대 1개다.
   *
   * @param <K> 이 맵이 관리하는 키의 타입
   * @param <V> 매핑된 값의 타입
   */
  public interface Map<K, V> {
  }
  ```

## 열거타입에는 상수별로 주석을 달아라
- 열거 타입을 문서화할 때는 상수들에도 주석을 달아야 한다.
- 열거 타입 자체와 열거 타입의 public 메서드도 물론이다
```java
/**
* 심포니 오케스트라의 악기 세션
*/
public enum OrchestraSection {
    /** 플루트, 클라리넷, 오보 같은 목관악기 */
    WOODWIND,
    /**  프렌치 호른, 트럼펫 같은 금관 악기*/
    BRASS,
    /** 팀파니, 심벌즈 같은 타악기 */
    PERCUSSION,
    /** 바이올린,첼로 같은 현악기 */
    STRING
}
```
## 애너테이션과 문서화 주석

- 애너테이션 타입을 문서화할 때는 멤버들에도 모두 주석을 달아야 한다.
- 애너테이션 타입의 요약 설명에서는, 이 애너테이션을 단다는 것이 어떤 의미인지를 설명하면 된다.
  ```java
  /**
   * 이 애너테이션이 달린 메서그는 명시한 예외를 던져야만 성공하는 테스트 메서드임을 나타낸다. 
   * 
   */
  @Retention(RetentionPolicy.RUNTIME)
  @Target(ElementType.METHOD)
  public @interface ExceptionTest {
      /**
       *  이 애너테이션을 단 테스트 메서드가 성공하려면 던져야하는 예외,
       *  (이 클래스의 하위 타임 예외는 모두 허용한다.)
       */
      Class<? extends Throwable> value();
  }
  ```

## 패키지를 설명하는 문서화 주석은 package-info.java에 작성한다.
- 패키지를 설명하는 문서화 주석은 package-info.java에 명시한다.
- 패키지 선언을 반드시 포함해야 하며 패키지 선언관련 애너테이션을 추가로 포함할 수도 있다.
- 모듈 시스템을 사용한다면, module-info.java 파일에 작성하면 된다.

## 스레드 안전 수준을 반드시 API 설명에 포함해야 한다.
- 클래스 혹은 정적 메서드가 스레드 안전하든 그렇지 않든, 스레드 안전 수준을 반드시 API 설명에 포함해야 한다.
- 직렬화할 수 있는 클래스라면 직렬화 형태도 API 설명에 기술해야 한다.

## JavaDoc은 메서드 주석을 상속 시킬 수 있다.
- 문서화 주석이 없는 API 요소를 발견하면 JavaDoc이 가장 가까운 문서화 주석을 찾아준다.
- 상위 클래스보다 구현한 인터페이스 주석을 더 먼저 찾는다.
- @inheritedDoc 태그를 사용해 상위 타입의 문서화 주석 일부를 상속할 수 있다.
- 클래스는 자신이 구현한 인터페이스의 문서화 주석을 재사용할 수 있다.

> 정리
> - 문서화 주석은 API를 문서화 하는 가장 훌륭하고 효과적인 방법이다.
> - 공개 API라면 빠짐없이 설명을 달아야 한다.
> - 표준 규약을 일관되게 지키자.
> - 문서화 주석이외에 HTML 태그를 사용할 수 있다.
