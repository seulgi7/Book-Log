> **목표**
> - IP를 이해한다.
> - 라우터를 이해한다.
> - IP  주소를 이해한다.
> - 서브넷을 이해한다.
> - 라우팅을 이해한다.

## LESSON17. 네트워크 계층의 역할
![[Pasted image 20240303193729.png]]
### 1. 네트워크 간의 연결구조
> **데이터 링크 계층**
> - 이더넷 규칙을 기반으로 데이터의 전송을 담당.
> - 이 규칙에 따라 같은 네트워크에 있는 컴퓨터로는 데이터를 전송할 수 있지만, 인터넷이나 다른 네트워크로는 데이터를 전송할 수 없음.
> 	- 수많은 네트워크가 연결된 환경에서 데이터 링크 계층의 기능만으로 다른 네트워크로 데이터를 전송하기 힘듦.
> 	- 5-2 그림의 네트워크 A를 보면 데이터 링크 계층의 기능만으로는 해당 네트워크 안에서만 통신이 가능하다는 것을 알 수 있음.

![[Pasted image 20240303194625.png]]
- 네트워크 계층(network layer)의 역할 : **네트워크 간의 통신을 가능하게 하는 것.**
	- 다른 네트워크와 통신하기 위한 경로 설정을 위해 라우터를 통한 라우팅을 하며 패킷 전송을 담당함.
- **라우터** : 네트워크 계층을 통해 다른 네트워크로 데이터를 전송할려면 필요한 네트워크 장비.
	- 기능 : 데이터의 목적지가 정해지면 **해당 목적지까지 어떤 경로로 가는 것이 좋은지**를 알려줌.
		- 데이터를 보내려는 상대가 어디에 있는지 모르면 라우터도 목적지까지의 경로를 알려주지 못함.
		 ➣IP주소(목적지 지정) + 라우팅(경로 설정) 결정해야 함.
- IP(Internet Protocol, 인터넷 프로토콜) 
	- 어떤 네트워크의 어떤 컴퓨터인지를 구분할 수 있도록 하는 주소.
	- 
- 라우팅(routing)
	- 목적지 IP주소까지 어떤 경로로 데이터를 보낼지 결정하는 것.
	- 라우팅을 하는 장비 : 라우터, 레이어3 스위치
		> 레이어3 스위치 : 네트워크를 분할하여 라우팅을 할 수 있는 네트워크 장비.
- 라우터	
	- 거리에 관계없이 다른 네트워크로 데이터를 보낼 수 있음.
	- **라우팅 테이블**(routing table)이 있어서 경로 정보를 등록하고 관리함.
### 2. IP란?
- 네트워크 계층에는 **IP**(Internet Protocol)라는 프로토콜이 있음.
	- 인터넷에 있는 한 컴퓨터에서 다른 컴퓨터로 데이터를 보내는 데 사용되는 네트워크 계층 프로토콜.
- 네트워크 꼐층에서는 캡슐화할때 아래 그림과 같이 IP헤더를 붙임.
	- 1 ~ 12순서로 헤더 정보가 구성되어 있음
	![[Pasted image 20240306085457.png]]
	
- IP 패킷 : 
- IP 주소 클래스(IP address class) : 
	- IPv4에서 사용하는 주소 그룹에도 다섯개가 있다. 
	- A,B,C 클래스: 네트워크 ID와 호스트 ID로 구성됨.
	- D 클래스의 구성 : 멀티캐스트 주소로 사용됨
	- E 클래스 : 필요에 다라 사용하기 위해 확보해 놓은 것.
- 라우터(router) : 서로 다른 네트워크를 연결해 주는 장치로  현재의 네트워크에서 다른 네트워크로 패킷을 전송할 수 있도록 함.
- 라우팅(routing): 네트워크에서 패킷을 목적지로 보낼 때 목적지까지 갈 수 있는 여러가지 경로 중 한가지 경로를 설정해주는 과정.
- 라우팅 테이블(routing table)
	- 컴퓨터 네트워크에서 목적지 주소를 목적지에 도달하기 위한 네트워크 노선으로 변환시킬 목적으로 사용됨.
	- 다른 네트워크로 가기 위한 가장 좋은 라우터의 정보를 가지고 있음.

## LESSON18. IP 주소의 구조
### 1. IP 주소란?
- IP 주소는 인터넷 서비스 제공자(ISP)에게 받을 수 있다. 인터넷이 널리 보급되며 기존 IPv4의 주소가 부족해지며 등장한 것이 IPv6이다. 128비트로 되어 있어 훨씬 많은 IP 주소를 만들 수 있다.
	- 공인 IP 주소 : ISP가 제공하는 주소. 인터넷에 직접 연결되는 컴퓨터나 라우터에 할당된다.
	- 사설 IP 주소 : 회사나 가정의 랜에 있는 컴퓨터에 할당된다. 네트워크 관리자가 할당하거나 라우터의 DHCP(Dynamic Host Configuration Protocol) 기능을 사용하여 자동으로 할당한다.
 
- MAC 주소는 48 bit로 구분하기 쉽도록 16진수로 표시하고, IP 주소는 32 bit로 구분하기 쉽도록 10진수로 표기한다. 8 bit(옥텟)로 나누어 표기한다.
```
11000000 | 10101000 | 00000001 | 00001010
192 . 168 . 1 . 10
```
- IP 주소는 네트워크 ID와 호스트 ID로 나눠져 있다.
	- 네트워크 ID : 어떤 네트워크인가? 
	- 호스트 ID : 해당 네트워크의 어떤 컴퓨터인가?
## LESSON19. IP 주소의 클래스 구조
### 1. IP 주소 클래스란?
- 네트워크 크기에 따라 A~E 클래스로 나눠진다. IP 주소는 비트(32 bit)로 구분하지만 네트워크 ID를 크게 만들거나 호스트 ID를 작게 만들어 네트워크 크기를 조정할 수 있다. 
	- A 클래스 : 대규모 네트워크 주소. 처음 8 bit 네트워크 ID, 나머지 24 bit가 호스트 ID.
	- B 클래스 : 중형 네트워크 주소. 16 bit 네트워크 ID, 16 bit 호스트 ID.
	- C 클래스 : 소규모 네트워크 주소. 24 bit 네트워크 ID, 8 bit 호스트 ID.
	- D 클래스 : 멀티캐스트(multicast) 주소
	- E 클래스 : 연구 및 특수용도 주소 

		> 멀티캐스트 : 한 번의 송신으로 메시지/정보를 목표한 여러 컴퓨터에 동시에 전송하는 것.
 
네트워크 ID와 호스트 ID의 32 bit 전체 범위는 다음과 같다. 
 

#### A 클래스
```
네트워크 ID                      호스트 ID
00000001 | 00000000 00000000 00000000
01111111 | 11111111 11111111 11111111
=> 1.0.0.0 ~ 127.255.255.255
```
- 공인 IP 주소의 범위 : 1.0.0.0 ~ 9.255.255.255 , 11.0.0.0 ~ 126.255.255.255.
- 사설 IP 주소의 범위 : 10.0.0.0 ~ 10.255.255.255.
 

#### B 클래스
```
네트워크 ID                      호스트 ID
10000000 00000000 | 00000000 00000000
10111111 11111111 | 11111111 11111111
=> 128.0.0.0 ~ 191.255.255.255
```
- 공인 IP 주소의 범위 : 128.0.0.0 ~ 172.15.255.255 , 172.32.0.0 ~ 191.255.255.255.
- 사설 IP 주소의 범위 : 172.16.0.0 ~ 172.31.255.255.
 
#### C 클래스
```
네트워크 ID                      호스트 ID
11000000 00000000 00000000 | 00000000
11011111 11111111 11111111 | 11111111
=> 192.0.0.0 ~ 223.255.255.255
```
- 공인 IP 주소의 범위 : 192.0.0.0 ~ 192.167.255.255 , 192.169.0.0 ~ 223.255.255.255.
- 사설 IP 주소의 범위 : 192.168.0.0 ~ 192.168.255.255.

가정에서는 주로 C 클래스의 사설 IP 주소인 192.168.X.X 가 쓰인다. cmd ipconfig 명령어로 확인 가능.

## LESSON20. 네트워크 주소와 브로드캐스트 주소의 구조
### 1. 네트워크 주소와 브로드태스트 주소란?
네트워크 주소와 브로드캐스트 주소는 특별한 주소로 컴퓨터나 라우터가 자신의 IP로 사용하면 안 되는 주소다. 
- 네트워크 주소
	- 호스트 ID가 10진수로 0인 주소(X.X.X.0).
 	- 작은 네트워크를 식별하는 데 사용, 전체 네트워크의 대표 주소.
 	- 192.168.1.1 ~ 192.168.1.6은 192.168.1.0의 네트워크에 있다.
- 브로드캐스트 주소
	- 호스트 ID가 10진수로 255인 주소(X.X.X.255).
 	- 네트워크에 있는 컴퓨터나 장비 모두에게 한 번에 데이터를 전송하는 데 사용되는 전용 IP 주소. 

## LESSON21. 서브넷의 구조
네트워크를 분할하는 것을 서브넷팅이라고 한다.
### 1. 서브넷이란?
- 많은 컴퓨터가 브로드캐스트 패킷을 전송하면 모든 컴퓨터에 패킷이 전송되어 네트워크가 혼잡해질 수 있다.대규모 네트워크도 작은 네트워크로 분할하여 브로드캐스트 패킷 범위를 좁힐 수 있다. 이를 서브넷팅이라고 하고, 분할된 네트워크를 서브넷이라고 한다.

- A 클래스 서브넷팅
```
네트워크 ID                  호스트 ID
00000001 ( 00000000 | 00000000 | 00000000 )
서브넷팅 후
네트워크 ID         서브넷 ID         호스트 ID
00000001 ( 00000000 | 00 ) ( 000000 | 00000000 )
```
 
### 2. 서브넷 마스크란?
어디까지가 네트워크 ID고 어디부터가 호스트 ID인지 헷갈릴 텐데, 이럴 때 사용하는 것이 서브넷 마스크이다. IP 주소의 네트워크 부분만 나타나게 하여 같은 네트워크인지를 판별하게 하는 마스크이다.

- A 클래스 서브넷 마스크
```
네트워크 ID
( 11111111 ) 00000000 | 00000000 | 00000000
```
 

- B 클래스 서브넷 마스크
```
네트워크 ID
( 11111111 | 11111111 ) 00000000 | 00000000
```
 

- C 클래스 서브넷 마스크
```
네트워크 ID
( 11111111 | 11111111 | 11111111 ) 00000000
```

- 프리픽스 표기법으로 서브넷 마스크를 슬래시(/비트수)로 나타낼 수도 있다. 
 	- 255.255.255.0은 /24가 된다. 
  	- 255.255.255.240은 /28.

## LESSON22. 라우터의 구조
### 1. 라우터란?
- 라우터는 서로 다른 네트워크와 통신하려면 필요한 장치이다. 네트워크를 분리할 수 있다.
- 스위치(L2)만 있는 네트워크에서는 모든 컴퓨터와 스위치가 동일한 네트워크에 속한다. (스위치와 허브는 네트워크를 분리할 수 없다.) 다른 네트워크로 데이터를 전송하려면 라우터의 IP 주소를 설정해야 한다. 이처럼 네트워크의 출입구를 설치하는 것을 기본 게이트웨이라고 한다.
 - 처음에는 목적지 주소를 알지 못하니 네트워크의 출입구를 지정하고 라우터로 데이터를 전송한다. 
### 2. 라우팅이란?
- 라우팅은 경로 정보를 기반으로 현재 네트워크에서 다른 네트워크로 최적 경로를 통해 데이터를 전송한다.
- 라우팅 테이블 : 이 경로 정보가 저장되어 있는 곳이 라우팅 테이블.
	- 수동으로 라우팅 테이블에 등록 : 네트워크 관리자가 수동으로. 소규모 네트워크에 적합.
	- 자동으로 라우팅 테이블에 등록 : 대규모 네트워크에 적합. 경로 정보를 서로 교환하여 라우팅 테이블 정보를 자동으로 수정한다. 
 - 라우팅 프로토콜 : 라우터 간에 라우팅 정보를 교환하기 위한 프로토콜
 	- 라우팅 프로토콜을 설정하여 라우터 간에 경로 정보를 서로 교환, 그것을 라우팅 테이블에 등록해 나간다.
	- RIP, OSPF, BGP 등이 있다. 


이미지 참고 ) https://minkwon4.tistory.com/287
